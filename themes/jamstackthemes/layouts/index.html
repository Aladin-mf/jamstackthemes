{{ define "title" }}JAMstack Themes{{ end}}
{{ define "header_css" }}{{ end }}
{{ define "body_classes" }}page-home{{ end }}

{{ define "meta_tags" }}
<meta name="description" content="{{ .Site.Params.description }}" />
<meta property="og:title" content="JAMstack Themes" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.jamstackthemes.dev" />
<meta property="og:description" content="{{ .Site.Params.description }}" />
<meta property="og:image" content="https://jamstackthemes.dev/images/jamstackthemes-screenshot.png">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stackbithq" />
<meta name="twitter:creator" content="@stackbithq" />
{{ end }}

{{ define "main" }}
{{ $themes := (where .Site.RegularPages "Type" "theme") }}
{{ $themes := (where $themes ".Params.draft" "!=" true) }}
{{ $themeCount := len $themes}}

<div class="main">
 
  <div class="intro">
    <h1>New Themes</h1>
    <!-- <span class="count">(<span class="count-number">{{ $themeCount }}</span>)</span> -->
  </div>

  <div>
    <div class="blurb blurb-desktop"><p>A list of Themes and Starters for <a href="https://jamstack.org/" target="_blank" rel="noopener">JAMstack</a> sites. The largest gallery of up-to-date themes for static site generators.</p></div>
    <div class="blurb blurb-mobile"><p>A list of Themes and Starters for <a href="https://jamstack.org/" target="_blank" rel="noopener">JAMstack</a> sites.</p></div>
  </div>

  <div id="grids-homepage" class="grids">
    <!-- {{ range $themes.ByPublishDate.Reverse }}
    {{ $repoName := printf "%s-%s" (substr (replace .Params.github "/" "-") 19 | urlize) .Params.github_branch }}
    {{ $repo := index .Site.Data.themes $repoName }}
      {{ partial "theme-card.html" (dict "theme" . "repo" $repo) }}
    {{ end }} -->

    {{ $paginator := .Paginate $themes.ByPublishDate.Reverse }}
    {{ range $paginator.Pages }}

    {{ $repoName := printf "%s-%s" (substr (replace .Params.github "/" "-") 19 | urlize) .Params.github_branch }}
    {{ $repo := index .Site.Data.themes $repoName }}
      {{ partial "theme-card.html" (dict "theme" . "repo" $repo) }}
    {{ end }}
  
  </div>
  {{ template "_internal/pagination.html" . }}

</div>
{{ end }}
